<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<ui:composition template="/usuario/template/template_principal.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"  
                xmlns:f="http://java.sun.com/jsf/core">  

    <ui:param name="funcao" value="manter_curso" />
    <ui:param name="nomeImagem" value="curso.png" />
    <ui:param name="paginaAtual" value="Editar Curso" />

    <ui:define name="conteudo">
        <div class="row">
            <div class="span10 offset1">
                <p:messages id="mensagem" closable="true" escape="false" />

                <h:form id="form">

                    <h:panelGroup rendered="#{cursoBean.cursoEditavel.id != 0}">
                        <h:outputLabel value="Id:" for="id" />
                        <h:inputText id="id" styleClass="input-block-level" disabled="true"
                                     value="#{cursoBean.cursoEditavel.id}" />                        
                    </h:panelGroup>

                    <h:outputLabel value="Prefixo:" for="prefixo"/>
                    <h:inputText id="prefixo" value="#{cursoBean.cursoEditavel.prefixo}"
                                 styleClass="input-block-level"
                                 required="true" requiredMessage="Prefixo é obrigatório." />
                    <h:outputLabel value="Cod. Matriz Curricular:" for="matriz-curricular"/>
                    <h:inputText id="matriz-curricular" value="#{cursoBean.cursoEditavel.codMatriz}"
                                 styleClass="input-block-level"/>
                    <h:outputLabel value="Nome:" for="nome-curso"/>
                    <h:inputText id="nome-curso" value="#{cursoBean.cursoEditavel.nome}" 
                                 styleClass="input-block-level"
                                 required="true" requiredMessage="Nome é obrigatório." /> 
                    <h:outputLabel value="Unidade:" for="cursos"/>
                    <h:selectOneMenu styleClass="input-block-level" id="cursos"  
                                     value="#{cursoBean.codigoUnidade}" >
                        <f:selectItems value="#{cursoBean.listaUnidades}" 
                                       var="u"                                           
                                       itemLabel="#{u.nome}"
                                       itemValue="#{u.id}"/>                            
                    </h:selectOneMenu>

                    <div class="form-actions" >                            
                        <h:commandButton styleClass="btn btn-primary botao-com-margem-direita" value="Salvar" action="#{cursoBean.salvar}" />
                        <h:commandButton styleClass="btn botao-com-margem-direita" value="Cancelar" action="#{cursoBean.cancelar}" />
                        <h:commandButton styleClass="btn" immediate="true" value="Voltar à lista de cursos" action="#{cursoBean.voltarListaCursos}" />
                    </div>
                </h:form>
            </div>
        </div>
    </ui:define>
</ui:composition>