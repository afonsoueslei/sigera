<?xml version='1.0' encoding='UTF-8' ?>

<ui:composition template="template/template_principal.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui">    
    <ui:param name="funcao" value="principal" />
    <ui:param name="nomeImagem" value="home.png" />
    <ui:param name="paginaAtual" value="Principal" />

    <ui:define name="conteudo">        
        <p:messages escape="false" closable="true"/>
        <ul class="thumbnails centralizar-texto">

            <li class="span3">
                <div class="thumbnail">
                    <h:link outcome="consultar">
                        <img src="#{request.contextPath}/resources/img/consultar2.png" alt="Consultar Meus Requerimentos" />
                    </h:link>                       
                </div>
            </li>
            <!-- mostra se usuario é coordenador de curso-->
            <h:panelGroup rendered="#{loginBean.usuarioEhCoordenadorDeCurso()}">
                <li class="span3">
                    <div class="thumbnail">
                        <h:link outcome="consultarCurso">
                            <img src="#{request.contextPath}/resources/img/consultarCoord2.png" alt="Consultar Requerimentos do Curso" />
                        </h:link>                       
                    </div>
                </li>
            </h:panelGroup>

            <h:panelGroup rendered="#{loginBean.usuarioEhSecretarioGraduação()}">
                <li class="span3">
                    <div class="thumbnail">
                        <h:link outcome="consultar_usuarios">
                            <img src="#{request.contextPath}/resources/img/manter_usuarios2.png" alt="Manter usuários" />
                        </h:link>                       
                    </div>
                </li>
            </h:panelGroup>

            <h:panelGroup rendered="#{loginBean.usuario.perfilAtual.perfil.permiteConfigurarSistema()}">

                <li class="span3">
                    <div class="thumbnail">
                        <h:link outcome="config">
                            <img src="#{request.contextPath}/resources/img/config2.png" alt="Painel de Configuração" />
                        </h:link>                                            
                    </div>
                </li>  

                <li class="span3">
                    <div class="thumbnail">
                        <h:link outcome="atribuir_perfil">
                            <img src="#{request.contextPath}/resources/img/atribuir_perfil2.png" alt="Atribuir perfil a usuário" />
                        </h:link>                                            
                    </div>
                </li>       

                <li class="span3">
                    <div class="thumbnail">
                        <h:link outcome="manter_disciplina">
                            <img src="#{request.contextPath}/resources/img/caderno2.png" alt="Manter Disciplinas" />
                        </h:link>                                            
                    </div>
                </li>                            
                <li class="span3 sem-margem-esquerda">
                    <div class="thumbnail">
                        <h:link outcome="manter_curso">
                            <img src="#{request.contextPath}/resources/img/curso2.png" alt="Manter Cursos" />
                        </h:link>                    
                    </div>
                </li>     

                <li class="span3">
                    <div class="thumbnail">
                        <h:link outcome="manter_unidade">
                            <img src="#{request.contextPath}/resources/img/unidade2.png" alt="Manter Cursos" />
                        </h:link>                    
                    </div>
                </li>     

            </h:panelGroup>

            <h:panelGroup rendered="#{loginBean.usuario.perfilAtual.perfil.permiteEditarTurma()}">
                <li class="span3 ">
                    <div class="thumbnail ">
                        <h:link outcome="manter_turma">
                            <img src="#{request.contextPath}/resources/img/turma2.png" alt="Manter Turmas" />
                        </h:link>                    
                    </div>
                </li>     
            </h:panelGroup>   

            <h:panelGroup rendered="#{loginBean.usuario.perfilAtual.perfil.permiteFazerRequerimento()}">
                <li class="span3">
                    <div class="thumbnail">
                        <h:link outcome="declaracao">
                            <img src="#{request.contextPath}/resources/img/declaracao2.png" alt="Declaração de Matrícula" />
                        </h:link>                        
                    </div>
                </li>

                <li class="span3">
                    <div class="thumbnail">
                        <h:link outcome="extrato">
                            <img src="#{request.contextPath}/resources/img/extrato2.png" alt="Extrato Acadêmico" />
                        </h:link>                                            
                    </div>                
                </li>

                <li class="span3">
                    <div class="thumbnail">
                        <h:link outcome="ementas">
                            <img src="#{request.contextPath}/resources/img/ementas2.png" alt="Ementas" />
                        </h:link>                                                 
                    </div>                         
                </li>

                <h:panelGroup rendered="#{loginBean.usuario.perfilAtual.perfil.permiteFazerRequerimentoDaPos()}">
                    <li class="span3 sem-margem-esquerda">
                        <div class="thumbnail">
                            <h:link outcome="prorrogacao_defesa">
                                <img src="#{request.contextPath}/resources/img/prorrogacao2.png" alt="Prorrogação Prazo Defesa" />
                            </h:link>                    
                        </div>
                    </li>
                </h:panelGroup>

                <h:panelGroup rendered="#{!loginBean.usuario.perfilAtual.perfil.permiteFazerRequerimentoDaPos()}">
                    <li class="span3 sem-margem-esquerda">
                        <div class="thumbnail">
                            <h:link outcome="assinatura">
                                <img src="#{request.contextPath}/resources/img/assinatura2.png" alt="Assinatura de contratos/relatórios de estágio" />
                            </h:link>                                            
                        </div>                
                    </li>
                </h:panelGroup>

                <h:panelGroup rendered="#{loginBean.configuracao.periodoPermiteAbrirRequerimentos()}"> 
                    <li class="span3">
                        <div class="thumbnail">
                            <h:link outcome="segunda_chamada">
                                <img src="#{request.contextPath}/resources/img/segunda_chamada2.png" alt="Segunda chamada de prova" />
                            </h:link>                        
                        </div>
                    </li>
                </h:panelGroup>

                <h:panelGroup rendered="#{loginBean.configuracao.permiteRequererAcrescimoOuCancelamentoDisciplinas()}">                
                    <li class="span3">
                        <div class="thumbnail">
                            <h:link outcome="acrescimo">
                                <img src="#{request.contextPath}/resources/img/acrescimo2.png" alt="Acréscimo de disciplinas" />
                            </h:link>                    
                        </div>
                    </li>

                    <li class="span3">
                        <div class="thumbnail">
                            <h:link outcome="cancelamento">
                                <img src="#{request.contextPath}/resources/img/cancelamento2.png" alt="Cancelamento de disciplinas" />
                            </h:link>                    
                        </div>
                    </li>
                </h:panelGroup>                    
            </h:panelGroup>                

            <h:panelGroup rendered="#{loginBean.usuario.perfilAtual.perfil.permitePlanoDeAula()}">
                <li class="span3">
                    <div class="thumbnail">

                        <!-- tem turmas sem plano de ensino definido abri janela com mensagem para os Administradores -->
                        <h:panelGroup rendered="#{loginBean.temTurmasSemPlano() and loginBean.usuario.perfilAtual.perfil.permiteConfigurarSistema()}">
                            <h:link outcome="msg_sem_plano">
                                <img src="#{request.contextPath}/resources/img/plano2.png" alt="Plano de Ensino" />
                            </h:link>
                        </h:panelGroup>

                        <!-- tem turmas sem plano de ensino definido mas usuario não esta com perfil de Administrador -->
                        <h:panelGroup rendered="#{loginBean.temTurmasSemPlano() and !loginBean.usuario.perfilAtual.perfil.permiteConfigurarSistema()}">
                            <h:link outcome="plano_aula">
                                <img src="#{request.contextPath}/resources/img/plano2.png" alt="Plano de Ensino" />
                            </h:link>
                        </h:panelGroup>

                        <!--caso NÃO haja turmas sem plano de ensino abri LISTAGEM DE PLANOS-->
                        <h:panelGroup rendered="#{!loginBean.temTurmasSemPlano()}">
                            <h:link outcome="plano_aula">
                                <img src="#{request.contextPath}/resources/img/plano2.png" alt="Plano de Ensino" />
                            </h:link>
                        </h:panelGroup>
                    </div>
                </li>
            </h:panelGroup>
        </ul>        
    </ui:define>    
</ui:composition>