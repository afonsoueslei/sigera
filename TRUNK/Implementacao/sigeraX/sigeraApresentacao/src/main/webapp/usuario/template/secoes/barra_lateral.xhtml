<?xml version='1.0' encoding='UTF-8' ?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:form>
        <ul class="nav nav-list nav-list-modificado">

            <li class="#{funcao == 'principal' ? 'nav-header active active-modificado' : 'nav-header'} " >                
                <h:link outcome="principal" >
                    <i class="#{funcao == 'principal' ? 'icon-white icon-home' : 'icon-home'}"></i> Principal
                </h:link>
            </li>
            <li class="divider divider_modificado"></li>
            <li class="#{funcao == 'consultar' ? 'nav-header active active-modificado' : 'nav-header'}">
                <h:link outcome="consultar">
                    <i class="#{funcao == 'consultar' ? 'icon-white icon-search' : 'icon-search'}"></i>  Consultar requerimentos
                </h:link>
            </li>

            <h:panelGroup rendered="#{loginBean.usuario.perfilAtual.perfil.permiteFazerRequerimento()}">
                <li class="divider divider_modificado"></li>
                <li class="#{funcao == 'requerer' ? 'nav-header active active-modificado' : 'nav-header'} " >
                    <h:link outcome="requerer">
                        <i class="#{funcao == 'requerer' ? 'icon-white icon-hand-up' : 'icon-hand-up'}"></i> Fazer requerimento
                    </h:link>
                </li>
                <ul class="nav nav-list">
                    <li class="#{funcao == 'declaracao' ? 'nav-header active active-modificado' : ''} linha_espacada">
                        <h:link outcome="declaracao">Declaração de Matrícula</h:link>
                    </li>                
                    <li class="#{funcao == 'extrato' ? 'nav-header active active-modificado' : ''} linha_espacada" >
                        <h:link outcome="extrato">Extrato Acadêmico</h:link>
                    </li>

                    <li class="#{funcao == 'ementas' ? 'nav-header active active-modificado' : ''} linha_espacada">
                        <h:link outcome="ementas">Ementas</h:link>
                    </li>

                    <li class="#{funcao == 'assinatura' ? 'nav-header active active-modificado' : ''} linha_espacada" >
                        <h:link outcome="assinatura">Assinatura de contratos / relatórios de estágio</h:link>
                    </li>

                    <li class="#{funcao == 'segunda_chamada' ? 'nav-header active active-modificado' : ''} linha_espacada">
                        <h:link outcome="segunda_chamada">Segunda chamada de prova</h:link>
                    </li>  

                    <h:panelGroup rendered="#{loginBean.configuracao.permiteRequererAcrescimoOuCancelamentoDisciplinas()}">
                        <li class="#{funcao == 'acrescimo' ? 'nav-header active active-modificado' : ''} linha_espacada">
                            <h:link outcome="acrescimo">Acréscimo disciplinas</h:link>
                        </li>   

                        <li class="#{funcao == 'cancelamento' ? 'nav-header active active-modificado' : ''} linha_espacada" >
                            <h:link outcome="cancelamento">Cancelamento disciplinas</h:link>
                        </li>
                    </h:panelGroup>
                </ul>
            </h:panelGroup>


            <h:panelGroup rendered="#{loginBean.usuario.perfilAtual.perfil.permiteConfigurarSistema()}">
                <li class="divider divider_modificado"></li>
                <li class="#{funcao == 'config' ? 'nav-header active active-modificado' : 'nav-header'} margin-top-5px">
                    <h:link outcome="config">
                        <i class="#{funcao == 'config' ? 'icon-white icon-cog' : 'icon-cog'}"></i> Painel de configuração
                    </h:link>
                </li>
                <li class="divider divider_modificado"></li>
                <li class="#{funcao == 'atribuir_perfil' ? 'nav-header active active-modificado' : 'nav-header'} margin-top-5px">
                    <h:link outcome="atribuir_perfil">
                        <i class="#{funcao == 'atribuir_perfil' ? 'icon-white icon-eye-open' : 'icon-eye-open'}"></i> Atribuir perfil a usuário
                    </h:link>
                </li>

                <!--manter disciplina-->
                <li class="divider divider_modificado"></li>
                <li class="#{funcao == 'manter_disciplina' ? 'nav-header active active-modificado' : 'nav-header'} margin-top-5px">
                    <h:link outcome="manter_disciplina">
                        <i class="#{funcao == 'manter_disciplina' ? 'icon-white icon-bookmark' : 'icon-bookmark'}"></i> Manter Disciplinas
                    </h:link>
                </li>

                <!--manter turmas-->
                <li class="divider divider_modificado"></li>
                <li class="#{funcao == 'manter_turma' ? 'nav-header active active-modificado' : 'nav-header'} margin-top-5px">
                    <h:link outcome="manter_turma">
                        <i class="#{funcao == 'manter_turma' ? 'icon-white icon-th' : 'icon-th'}"></i> Manter Turmas
                    </h:link>
                </li>
                <!--manter cursos-->
                <li class="divider divider_modificado"></li>
                <li class="#{funcao == 'manter_curso' ? 'nav-header active active-modificado' : 'nav-header'} margin-top-5px">
                    <h:link outcome="manter_curso">
                        <i class="#{funcao == 'manter_curso' ? 'icon-white icon-book' : 'icon-book'}"></i> Manter Cursos
                    </h:link>
                </li>                
                <!--manter unidades-->
                <li class="divider divider_modificado"></li>
                <li class="#{funcao == 'manter_unidade' ? 'nav-header active active-modificado' : 'nav-header'} margin-top-5px" >
                    <h:link outcome="manter_unidade">
                        <i class="#{funcao == 'manter_unidade' ? 'icon-white icon-th-large' : 'icon-th-large'}"></i> Manter Unidades
                    </h:link>
                </li>                

            </h:panelGroup>

            <h:panelGroup rendered="#{loginBean.usuario.perfilAtual.perfil.permitePlanoDeAula()}">
                <li class="divider divider_modificado"></li>
                <li class="#{funcao == 'plano_aula' ? 'nav-header active active-modificado' : 'nav-header'} margin-top-5px">
                    
                    <!--caso haja turmas sem plano de ensino definido abri janela com mensagem-->
                    <h:panelGroup rendered="#{loginBean.temTurmasSemPlano() and loginBean.usuario.perfilAtual.perfil.permiteConfigurarSistema()}">
                        <h:link outcome="msg_sem_plano">
                            <i class="#{funcao == 'plano_aula' ? 'icon-white icon-calendar' : 'icon-calendar'}"></i> Plano de Ensino
                        </h:link>
                    </h:panelGroup>
                    
                    <!-- tem turmas sem plano de ensino definido mas usuario não esta com perfil de Administrador -->
                    <h:panelGroup rendered="#{loginBean.temTurmasSemPlano() and !loginBean.usuario.perfilAtual.perfil.permiteConfigurarSistema()}">
                        <h:link outcome="plano_aula">
                            <i class="#{funcao == 'plano_aula' ? 'icon-white icon-calendar' : 'icon-calendar'}"></i> Plano de Ensino
                        </h:link>
                    </h:panelGroup>
                    
                    <!--caso NÃO haja turmas sem plano de ensino abri LISTAGEM DE PLANOS-->
                    <h:panelGroup rendered="#{!loginBean.temTurmasSemPlano()}">
                        <h:link outcome="plano_aula">
                            <i class="#{funcao == 'plano_aula' ? 'icon-white icon-calendar' : 'icon-calendar'}"></i> Plano de Ensino
                        </h:link>
                    </h:panelGroup>
                    
                </li>
            </h:panelGroup>

            <li class="divider divider_modificado"></li>
            <li class="#{funcao == 'editar_perfil' ? 'nav-header active active-modificado' : 'nav-header'} margin-top-5px" >
                <h:link outcome="editar_perfil">
                    <i  class="#{funcao == 'editar_perfil' ? 'icon-white icon-user' : 'icon-user'}"></i> Meu Perfil
                </h:link>
            </li>
        </ul>
    </h:form>


    <ul class="nav nav-list nav-list-modificado2">
        <li class="nav-header active active-modificado2">            
            <h:link >
                <i  class="#{funcao == 'editar_perfil' ? 'icon-white icon-bullhorn' : 'icon-bullhorn'}"></i> Notícias do INF
            </h:link>            
        </li>       

        <p:carousel styleClass="slides_rss" value="#{rssBean.feed}" var ="feed" 
                    autoPlayInterval="5000"   
                    numVisible="1" effect="easeInStrong" circular="true"  itemStyleClass="itens_rss">

            <a href ="#{feed.link}" target="_blank" style="color:blue"> 
                <h:outputText value="#{feed.titulo}" style="font-weight: bold; "  />  
            </a>  <br/>

            <h:outputText value="#{feed.dataPublicacao}" escape="false" />  

        </p:carousel>


    </ul>





</ui:composition>